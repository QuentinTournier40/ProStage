<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block titlePage %}ProStages!{% endblock %}</title>
        {# Run `composer require symfony/webpack-encore-bundle`and uncomment the following Encore helpers to start using Symfony UX #}
        {% block stylesheets %}
            <link href="{{ asset('/css/bootstrap.min.css') }}" rel="stylesheet">
        {% endblock %}

        {% block javascripts %}
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        {% endblock %}
    </head>
    <body>
        {% block menu %}
            <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container-fluid">
                <a class="navbar-brand" href="{{path('pro_stage_accueil')}}">ProStages</a>
                <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>

                <div class="navbar-collapse collapse" id="navbarColor01" style="">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Trier par</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="{{path('pro_stage_liste_formations')}}">Formation</a>
                        <a class="dropdown-item" href="{{path('pro_stage_liste_entreprises')}}">Entreprise</a>
                    </div>
                    </li>
                    {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                        <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Ajouter</a>
                        <div class="dropdown-menu">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="dropdown-item" href="{{path('pro_stage_creation_entreprise')}}">Entreprise</a>
                            {% endif %}
                            {% if is_granted('ROLE_USER') %}
                            <a class="dropdown-item" href="{{path('pro_stage_ajouter_stage')}}">Stage</a>
                            {% endif %}
                        </div>
                        </li>
                    {% endif %}
                </ul>
                </div>
                <div class="d-flex">
                    {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                         <a class="btn btn-warning my-2 my-sm-0" href="{{path('app_logout')}}">Se déconnecter</a>
                    {% else %}
                        <a class="btn btn-warning my-2 my-sm-0 me-3" href="{{path('app_inscription')}}">Se créer un compte</a>
                        <a class="btn btn-warning my-2 my-sm-0" href="{{path('app_login')}}">Se connecter</a>
                    {% endif %}
                </div>
            </div>
            </nav>
        {% endblock %}
                
        {% block title %}
        {% endblock %}

        {% block body %}
        {% endblock %}
    </body>
</html>
